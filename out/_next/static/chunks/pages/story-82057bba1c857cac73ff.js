_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"8dqH":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/story",function(){return n("FyHc")}])},FyHc:function(e,t,n){"use strict";n.r(t);var i=n("nKUr");function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=n("q1tI"),r=n.n(s),l=n("rg5T"),c=n("MX0m"),d=n.n(c),h=function(e){var t=e.dialog,n=e.items,o=e.setScene,a=Object(s.useState)(null),l=a[0],c=a[1];return Object(s.useEffect)((function(){l||c(t.questions[0])}),[t,l,c]),l?Object(i.jsxs)(r.a.Fragment,{children:[l.setting&&Object(i.jsx)("div",{className:"jsx-3781489909 setting",children:Object(i.jsx)("p",{className:"jsx-3781489909",children:l.setting})}),Object(i.jsxs)("p",{className:"jsx-3781489909 not-you",children:[Object(i.jsxs)("b",{className:"jsx-3781489909",children:[t.who,":"]})," ",l.question]}),Object(i.jsx)("hr",{className:"jsx-3781489909"}),Object(i.jsxs)("div",{className:"jsx-3781489909 you",children:[Object(i.jsx)("b",{className:"jsx-3781489909",children:"You:"}),Object(i.jsx)("div",{className:"jsx-3781489909 replies",children:l.options.map((function(e,a){return!e.required&&!e.exclude||e.required&&n.filter((function(t){return"".concat(t.id)==="".concat(e.required)})).length||e.exclude&&n.filter((function(t){return"".concat(t.id)!=="".concat(e.exclude)})).length?Object(i.jsxs)(r.a.Fragment,{children:[0!==a&&Object(i.jsx)("span",{className:"jsx-3781489909 divider"}),Object(i.jsx)("button",{onClick:function(){e.newScene?o(e.id):c(t.get(e.id))},className:"jsx-3781489909 reply",children:e.text})]},"".concat(e.id,"-").concat(a)):null}))})]}),Object(i.jsx)(d.a,{id:"3781489909",children:[".setting.jsx-3781489909{background:#eef2f3;color:#444;font-size:85%;font-style:italic;margin:2rem 0;padding:2rem 2rem 1rem;}","hr.jsx-3781489909{border-top:1px solid black;margin-bottom:1rem;width:100%;}",".replies.jsx-3781489909{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}",".reply.jsx-3781489909{margin-top:1.4rem;text-align:right;}",".divider.jsx-3781489909{background:gray;display:block;height:1px;margin:1.8rem 0 0.6rem;width:100px;}",".you.jsx-3781489909{text-align:right;}","b.jsx-3781489909{display:block;}"]})]}):""},u=function(e){var t=e.links,n=e.setScene;return Object(i.jsxs)("ul",{className:"jsx-2036634755 story-links",children:[t?t.map((function(e){var t=e?e.id:0,o=e?e.link_text:"Start Over";return Object(i.jsx)("li",{className:"jsx-2036634755",children:Object(i.jsx)("button",{onClick:function(){return n(t)},className:"jsx-2036634755",children:o})},t)})):Object(i.jsx)("li",{className:"jsx-2036634755",children:Object(i.jsx)("button",{onClick:function(){return n(0)},className:"jsx-2036634755",children:"Start Over"})}),Object(i.jsx)(d.a,{id:"2036634755",children:[".story-links.jsx-2036634755{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;list-style-type:none;margin:2.4rem 0 0;padding:0;}",".story-links.jsx-2036634755 li.jsx-2036634755{margin:0;}"]})]})},m=function(e){var t=e.currentScene,n=e.links,o=e.setScene,a=Object(s.useState)(!1),l=a[0],c=a[1],h=Object(s.useState)(0),u=h[0],m=h[1],f=Object(s.useState)(null),x=f[0],y=f[1];return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)("input",{onChange:function(e){var n=e.target.value;n.length>=t.answer.length&&(n.toLowerCase()===t.answer.toLowerCase()?(c(!0),y(t.correct)):(m(1),y(t.incorrect)))},type:"text",className:"jsx-1075484296"}),l&&Object(i.jsxs)("div",{className:"jsx-1075484296",children:[Object(i.jsx)("p",{className:"jsx-1075484296",children:x}),Object(i.jsx)("button",{onClick:function(){return o(n[u].id)},className:"jsx-1075484296",children:n[u].link_text})]}),Object(i.jsx)(d.a,{id:"1075484296",children:["h1.jsx-1075484296{font-size:24px;}","input.jsx-1075484296{margin-bottom:1rem;padding:4px;width:220px;}"]})]})},f=function(e){var t=e.links,n=e.setScene,o=Object(s.useState)({scene:null,link_text:null}),a=o[0],l=o[1];return Object(s.useEffect)((function(){if(null===a.scene){console.log(a);var e=t[Math.floor(Math.random()*t.length)];l({scene:e?e.id:0,link_text:e?e.link_text:"Start Over"})}}),[t,a,l]),Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)("button",{onClick:function(){return n(a.scene||0)},className:"jsx-3357050268",children:a.link_text}),Object(i.jsx)(d.a,{id:"3357050268",children:["h1.jsx-3357050268{font-size:24px;}"]})]})},x=function(e){return e.open?Object(i.jsx)("svg",{width:"20px",height:"20px",viewBox:"0 0 122 123",children:Object(i.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(i.jsx)("polygon",{id:"Path",fill:"#575ADC",transform:"translate(61.000000, 61.230469) scale(1, -1) translate(-61.000000, -61.230469) ",points:"91.7722537 0 91.7722537 65.0515626 122 65.0515626 59.8476562 122.460938 -1.29249909e-14 65.0515626 29.632507 65.0515626 29.632507 0"})})}):Object(i.jsx)("svg",{width:"20px",height:"20px",viewBox:"0 0 122 123",children:Object(i.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(i.jsx)("polygon",{fill:"#575ADC",points:"91.7722537 0 91.7722537 65.0515626 122 65.0515626 59.8476562 122.460938 -1.29249909e-14 65.0515626 29.632507 65.0515626 29.632507 0"})})})},y=function(e){var t=e.activeItem,n=e.items,o=e.theme,a=e.useItem,r=Object(s.useState)(!1),l=r[0],c=r[1];return n&&n.length?Object(i.jsxs)("div",{className:"jsx-1765917542 "+"items show-hide ".concat(o," ").concat(l?"show":""),children:[Object(i.jsxs)("h2",{onClick:function(){return c(!l)},className:"jsx-1765917542",children:[Object(i.jsx)(x,{open:l})," Inventory"]}),Object(i.jsx)("div",{className:"jsx-1765917542 list",children:n.map((function(e,n){return Object(i.jsx)("div",{onClick:function(){return a(e.id)},className:"jsx-1765917542 "+"item ".concat(t===e.id&&"active"),children:e.item_name},n)}))}),Object(i.jsx)(d.a,{id:"1765917542",children:[".items.jsx-1765917542{margin:0 auto;}",".drawer.jsx-1765917542{background:white;border:1px solid black;box-shadow:10px 10px 0px #000;right:5%;padding:0 0.4rem 0;position:fixed;top:1%;}",".drawer.show.jsx-1765917542{max-width:90%;padding:0 0.4rem 1rem;width:460px;}",".show-hide.show.jsx-1765917542 .list.jsx-1765917542{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".drawer.jsx-1765917542 .list.jsx-1765917542{display:none;}",".inset.jsx-1765917542{margin-top:1rem;}",".inset.jsx-1765917542 .list.jsx-1765917542{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;}",".item.jsx-1765917542{border:1px solid white;color:#575adc;cursor:pointer;-webkit-flex:1;-ms-flex:1;flex:1;margin:1%;min-width:31%;padding:0.6rem;text-align:center;}",".active.jsx-1765917542{font-weight:bold;}",".item.jsx-1765917542:hover{background-color:lavender;border:1px solid #575adc;}","h2.jsx-1765917542{cursor:pointer;padding:0.6rem 1rem 0;text-align:right;}","h2.jsx-1765917542 span.jsx-1765917542{font-size:75%;}",".inset.jsx-1765917542 h2.jsx-1765917542{display:none;}"]})]}):null},p=function(e){var t=e.activeItem,n=e.currentScene,o=e.items,a=e.links,r=e.setScene,l=e.useItem,c=Object(s.useState)(!1),h=c[0],m=c[1],f=Object(s.useState)(!1),x=f[0],p=f[1],g=Object(s.useState)(!1),b=g[0],k=g[1],w=o.filter((function(e){return!n.acceptable_items||n.acceptable_items.includes(e.id)?e:null}));return Object(i.jsxs)("div",{className:"jsx-560556705 wrapper",children:[!h&&Object(i.jsx)(y,{active:t,items:w,theme:"inset",useItem:function(e){l(e,n.trade_item),p(!0),m(!0)}}),!h&&Object(i.jsx)("button",{onClick:function(){k(!0),m(!0)},className:"jsx-560556705 decline",children:"Decline Trade"}),x&&Object(i.jsxs)("div",{className:"jsx-560556705",children:[Object(i.jsx)("h3",{className:"jsx-560556705",children:"Trade accepted"}),Object(i.jsx)("p",{className:"jsx-560556705",children:n.accepted_text})]}),b&&Object(i.jsxs)("div",{className:"jsx-560556705",children:[Object(i.jsx)("h3",{className:"jsx-560556705",children:"Trade declined"}),Object(i.jsx)("p",{className:"jsx-560556705",children:n.declined_text})]}),h&&Object(i.jsx)(u,{links:a,setScene:r}),Object(i.jsx)(d.a,{id:"560556705",children:["h1.jsx-560556705{font-size:24px;}",".wrapper.jsx-560556705{margin-top:1rem;}",".decline.jsx-560556705{border:1px solid black;display:block;margin:30px auto;padding:1rem;text-align:center;text-transform:uppercase;}"]})]})},g=function(e){var t=e.currentScene,n=e.items,o=e.setScene,a=Object(s.useState)(!1),l=a[0],c=a[1],d=t.itemsNeeded,h=0,m=d.map((function(e){return function(e,t){return!!(e&&e.filter((function(e){return t.includes(e.id)})).length>0)}(n,e.items)?(h++,Object(i.jsx)("p",{children:e.text})):null}));return h>=2&&!l&&c(!0),Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)("br",{}),Object(i.jsx)("div",{children:m}),Object(i.jsx)("br",{}),!!l&&Object(i.jsx)("div",{children:t.success}),!1===l&&Object(i.jsx)("div",{children:t.failure}),Object(i.jsx)(u,{links:t.links,setScene:o})]})},b=function(e){return e.content.split("\n").map((function(e,t){return Object(i.jsx)("p",{children:e},t)}))},k=function(e){return"acquire"===e.currentScene.type&&e.acquireItem(e.currentScene.item),Object(i.jsxs)("div",{className:"jsx-3296920795 story",children:[e.currentScene.headline&&Object(i.jsx)("h1",{className:"jsx-3296920795",children:e.currentScene.headline}),e.currentScene.content&&Object(i.jsx)(b,{content:e.currentScene.content}),e.currentScene.author&&Object(i.jsxs)("p",{className:"jsx-3296920795 author",children:["\u2013 ",e.currentScene.author]}),"dialog"===e.currentScene.type&&Object(i.jsx)(h,{dialog:e.currentScene.dialog,items:e.items,setScene:e.setScene}),"question"===e.currentScene.type&&Object(i.jsx)(m,{currentScene:e.currentScene,links:e.currentScene.links,setScene:e.setScene}),"random"===e.currentScene.type&&Object(i.jsx)(f,{links:e.currentScene.links,setScene:e.setScene}),"trade"===e.currentScene.type&&Object(i.jsx)(p,{active:e.activeItem,currentScene:e.currentScene,items:e.items,links:e.currentScene.links,setScene:e.setScene,useItem:e.useItem}),"withItems"===e.currentScene.type&&Object(i.jsx)(g,{currentScene:e.currentScene,items:e.items,setScene:e.setScene}),(void 0===e.currentScene.type||"acquire"===e.currentScene.type)&&Object(i.jsx)(u,{links:e.currentScene.links,setScene:e.setScene}),Object(i.jsx)(d.a,{id:"3296920795",children:[".story.jsx-3296920795{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:9% auto 2%;white-space:pre-line;width:90%;}",".story.jsx-3296920795 p.jsx-3296920795{line-height:26px;margin:16px 0 0;}"]})]})},w=function(e){var t=e.closeModal,n=e.item;return e.open?Object(i.jsxs)("div",{className:"jsx-1979240653 wrapper",children:[Object(i.jsxs)("div",{className:"jsx-1979240653 item",children:[Object(i.jsx)("button",{onClick:function(){return t()},className:"jsx-1979240653 close",children:"\xd7"}),Object(i.jsxs)("div",{className:"jsx-1979240653 body",children:[Object(i.jsxs)("div",{className:"jsx-1979240653",children:[Object(i.jsx)("h3",{className:"jsx-1979240653",children:n.item_name}),Object(i.jsx)("p",{className:"jsx-1979240653",children:n.notes})]}),Object(i.jsxs)("dl",{className:"jsx-1979240653",children:[Object(i.jsx)("dt",{className:"jsx-1979240653",children:"Rarity:"}),Object(i.jsx)("dd",{className:"jsx-1979240653",children:"".concat(n.rarity,"/10")}),Object(i.jsx)("dt",{className:"jsx-1979240653",children:"Qty:"}),Object(i.jsx)("dd",{className:"jsx-1979240653",children:n.qty})]})]})]}),Object(i.jsx)(d.a,{id:"1979240653",children:[".wrapper.jsx-1979240653{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:rgba(0,0,0,0.4);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100vh;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:100;}",".item.jsx-1979240653{background:white;border:1px solid black;box-shadow:10px 10px 0px #000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:4rem;position:relative;max-width:50%;min-height:360px;width:360px;}",".close.jsx-1979240653{font-size:28px;font-weight:bold;position:absolute;right:1rem;top:0;}",".body.jsx-1979240653{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}","dl.jsx-1979240653{border:1px solid black;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:16px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:1rem;width:100%;}","dt.jsx-1979240653{font-weight:bold;margin-right:3%;width:30%;}","dd.jsx-1979240653{margin:0;width:67%;}"]})]}):null},j=n("8roM"),v={scenes:[{acceptable_items:[4,5,6,10,15],accepted_text:"This is just what I've been looking for. Here is an **AMULET** to help you on your journey.",content:"The old woman will accept any of these items in trade. Click one to make a trade. Inspect inventory to review details.",declined_text:"You're missing out on a valuable item. I wish you luck.",headline:"Make a trade",id:"1-amulet",links:[{id:"1-travellers-0",link_text:"Follow her directions and continue down the path to the right"}],trade_item:12,type:"trade"}]},O={scenes:[{id:"1-castle-0",headline:"At the gate",content:"You arrive at the castle gate as the sun is setting. As you walk to the gate it swings open and a carriage rumbles out and down the path.",links:[{id:"1-castle-1",link_text:"Hurry through the gate"}]},{id:"1-castle-1",headline:"Inside the courtyard",content:"You walk to the door of the castle, suddenly afraid to make a sound. You feel like you're being watched. You knock on the door a tall man in a long cloak opens it.",links:[{id:"1-castle-dialogue",link_text:"Talk to the man"}]},{id:"1-castle-2",headline:"In the room",content:"You get tired very quickly and fall asleep. You wake in the night encircled by wolves, people in robes and the tall man. You think this must be a dream, but you can't seem to wake up. As the people draw closer you pass out from fright. You know you will never leave the castle.",links:[null]},{id:"1-castle-3",headline:"In the room",content:"You're tired but feel like you shouldn't fall asleep. This might not have been a good idea. You look around the room and find that in the corner there are piles of gold and jewels. This doesn't make any sense.",links:[{id:"1-castle-denouement",link_text:"You hear something"}]},{id:"1-castle-denouement",headline:"Face the monster",content:"You hear someone or something appraoching in the corridor. You reach for your bag. What do you have that can help you now?",failure:"The tall man walks in, laughing. He says, 'You don't have what you need to defeat me.' You know you will never leave the castle alive.",itemsNeeded:[{text:"Use the knife to whittle the walking stick into a spear",items:[5,9]},{text:"Put the crucifix around your neck",items:[11]},{text:"Crush the garlic and sprinkle it around you",items:[13]}],links:[null],minMatch:2,success:"The tall man walks in. You defeat him after a long struggle. You're exhausted but exhilarated. Take the gold and run. You won!",type:"withItems"},{id:"1-castle-dialogue",headline:"Conversation with the Tall Man",type:"dialog",dialog:{who:"Tall man",questions:[{id:0,question:"Good evening. How can I help you?",options:[{id:1,text:"I'm on a journey to trade a rare object from my village. I thought someone who lives in such a lovely home might be interested."}]},{id:1,question:"Ahhh, how interesting. Please come inside.",options:[{id:2,text:"Ok great!"}]},{id:2,setting:"Inside the castle it's very dark. There are candellabras covered in cobwebs on tables. You see stairs and a long hallway.",question:"Please come in. Can I offer you a drink?",options:[{id:3,text:"No. Thank you, though!"},{id:4,text:"Oh yes, that would be so lovely"}]},{id:3,setting:"The Tall man looks disappointed.",question:"You must be tired. Let me show you to a room. You can take a rest",options:[{id:"1-castle-3",text:"Follow him",newScene:!0}]},{id:4,setting:"The Tall pours you a drink. It looks like wine, but it's very thick.",question:"You must be tired. Let me show you to a room. You can take the drink with you",options:[{id:"1-castle-2",text:"Follow Him",newScene:!0}]}],get:function(e){return this.questions.find((function(t){return t.id.toString()===e.toString()}))}}}]},S={scenes:[{id:"1-city-0",headline:"City Gates",content:"You reach the gates to the city and encounter a guard. He tells you there is no entry without a password",links:[{id:"1-city-1",link_text:"Tell him the password"},{id:"1-city-2",link_text:"Offer him a bribe"}]},{answer:"Rutabaga",correct:"Yep! That's it! Come on in",incorrect:"Where did you hear that? Get out of here!",id:"1-city-1",headline:"Password",content:"Well what is it?",links:[{id:"1-city-4",link_text:"Enter ".concat(j.a.destination)},{id:"1-city-3",link_text:"Move on"}],type:"question"},{id:"1-city-2",headline:"Bribe him",content:"What do you take me for, a hoodlum like you? I could lose my job over something like this. Get out of here before I get really mad.\nYou walk away dejected. You'll never get into ".concat(j.a.destination," now."),links:null},{id:"1-city-3",headline:"Dang",content:"You walk away dejected. You'll never get into ".concat(j.a.destination," now."),links:null},{id:"1-city-4",headline:"Inside the gates",content:"You meet another traveller who directs you to a local merchant where you can sell the ".concat(j.a.macguffin),links:[{id:"1-merchant-0",link_text:"Find the merchant"}]}]},I={scenes:[{id:"1-hut-0",headline:"Knock on the Door",content:"You walk over to the hut and tap on the door. You think you hear someone stirring inside. The door creaks open and a shrivelled old lady peaks out at you.",links:[{id:"1-hut-1",link_text:"Continue"}]},{id:"1-hut-FINAL",headline:"The room fades",content:"You wake up by the fork in the road. All of your items are gone. You have no choice but to walk back to your village in failure.",links:null},{id:"1-hut-1",headline:"Talk to the old lady",type:"dialog",dialog:{who:"Old lady",questions:[{id:0,question:"Hello, my dear, you look lost. Why don't you come in and have a cup of tea?",options:[{id:1,text:"I'd hate to trouble you. I just wanted to ask for directions."},{id:2,text:"Thank you. That would be nice."}]},{id:1,question:"It's no trouble at all. Please come in.",options:[{id:2,text:"Ok sure! Thanks."},{id:3,text:"I'm really not thirsty right now. I'm in a hurry to reach ".concat(j.a.destination)}]},{id:2,setting:"Inside the hut is even darker and more run down than it seemed from outside. You see spiders building webs in every corner.",question:"It's so nice to have a guest. I can't remember the last time I had a visitor. Would you like sugar in your tea? How about a nice cookie?",options:[{id:7,text:"No. Just the tea."},{id:5,text:"No sugar, thank you! But, I'd love a cookie. I must admit I was getting pretty hungry."}]},{id:7,setting:"The Witch draws closer. You begin to feel woozy. What was in that tea?",question:"If a witch offers you a cookie, it's polite to accept it.",options:[{id:"1-hut-FINAL",text:"Continue",newScene:!0}]},{id:5,setting:"The old lady hands you your tea and a small cookie. You sit and chat for a while. The cookie is delicious, and the tea makes you feel warm and comfortable.",question:"Now my dear, I'll tell you how to get to ".concat(j.a.destination,".\nI also have a small trinket to help you on your journey... if you'd like to make a trade."),options:[{id:"1-amulet",text:"Agree to a trade.",newScene:!0},{id:"1-travellers-0",text:"Say no to the trade and thank her for the directions.",newScene:!0}]},{id:3,setting:"The Old Witch slams the door in your face.",question:"That's not very polite. Why should I help you? I'm not in the habit of helping rude strangers. Next time you meet a witch, remember to be more polite!",options:[{id:"1-right-0",text:"Take the path on the right",newScene:!0},{id:"1-left-0",text:"Take the path on the left",newScene:!0},{id:2,text:"Flip a coin to choose a path",newScene:!0}]}],get:function(e){return this.questions.find((function(t){return t.id.toString()===e.toString()}))}}}]},_={scenes:[{id:"1-left-0",headline:"The path on the left",content:"The slight grade quickly turns into a steep grade. The trees along the path begin to get denser until you are in a thick forest. It's long past noon and you haven't eaten yet.\n\nYou see a small clearing through the trees that looks like a perfect lunch spot.",links:[{id:"1-left-1",link_text:"Stay on the path and eat by the road"},{id:"1-left-2",link_text:"Go check out the clearing"}]},{id:"1-left-1",headline:"Have a quick bite",content:"You were warned to never leave the path. You feel like you made the responsible decision.",links:[{id:"1-left-3",link_text:"Time to keep going!"}]},{id:"1-left-2",headline:"In the Clearing",content:"You step into the clearing. There's a tiny stream and next to it a honeysuckle bush with something glittering underneath it.\n\nYou kneel to pick up the glittering object. It's a small crucifix. You put it in your pouch.",item:11,links:[{id:"1-left-3",link_text:"Finish lunch and get back on the path"}],type:"acquire"},{id:"1-left-3",headline:"The path at the crooked fork",content:"You notice a smaller path that twists up towards a castle. Maybe the people there would be interested in the ".concat(j.a.macguffin),links:[{id:"1-castle-0",link_text:"Continue on to the castle"},{id:"1-left-4",link_text:"Continue on and look for a town"}]},{id:"1-left-4",headline:"You continue walking",content:"You follow the path into a valley and you are soon at a village even smaller than your own. The villagers say there is a castle nearby, but warn you from going there.\n\nIt's already getting dark and the city you wanted to reach is 2 days journey further. This wasn't the right path and now you'll have to cross the mountains to get to it. Maybe the castle would be your best bet.\n\nYou decide to wait til morning and then...",links:[{id:"1-left-5",link_text:"Go to the Castle"},{id:"1-left-6",link_text:"Go to through the Mountains to the City"}]},{acceptable_items:[0,2,4,8,15],accepted_text:"God be with you! Be safe!",content:"The town's people warn you to trade for supplies before you go to the castle. They will trade for a bunch of garlic and offer to bless you water. Select an item from your inventory to trade for the garlic.",headline:"Get supplies for your travels",id:"1-left-5",links:[{id:"1-castle-0",link_text:"Leave and go to the castle"}],trade_item:13,type:"trade"},{acceptable_items:[0,2,4,8,15],accepted_text:"God be with you! Here are some Be safe!",content:"You will need more food for your extended trip. Trade for added supplies",headline:"Get supplies for your travels",id:"1-left-6",links:[{id:"1-mountain-pass-0",link_text:"Head across the mountain to the city"}],trade_item:1,type:"trade"}]},T={scenes:[{id:"1-merchant-0",headline:"Arrive at the Shop",content:"You enter the merchant's shop and see an old man with tiny spectacles. He's leaning over a counter inspecting a small item you can't see.",links:[{id:"1-merchant-1",link_text:"Go talk to him"}]},{id:"1-merchant-FINAL",headline:"Outside the city gates",content:"You can't believe you sold the ".concat(j.a.macguffin," for so little. You hope it will be enough to get the village through the winter, but you're not sure. You start for home feeling drained and wishing they'd sent someone else to do this job."),links:null},{id:"1-merchant-FINAL-WIN",headline:"Outside the city gates",content:"You can't believe you sold the ".concat(j.a.macguffin," for so much. You know it will be enough to get the village through the winter, and even longer. You start for home feeling exhilarated!"),links:null},{id:"1-merchant-1",headline:"Talk to the Merchant",type:"dialog",dialog:{who:"Merchant",questions:[{id:0,setting:"The shop is packed full of trinkets and treasures. You are overwhelmed by the variety and think that the contents of the store would keep your village afloat for many years.",question:"Welcome to my shop how can I help you?",options:[{id:1,text:"I've come from afar to sell an item of great value. Can you tell me how much you can offer me for this ".concat(j.a.macguffin,"?")}]},{id:1,question:"Oh yes of course. please bring it over. \n--\n Hmmmm, yes I think I've seen one of these before. In fact I'm sure I've seen quite a few.\nCommon thing really.\nI could offer you...\nSOME SMALL AMOUNT",options:[{id:2,text:"Oh dear, are you sure? It's been in the hands of the village elders for generations. I know we're not from a big city like this, but surely you could do a bit better."}]},{id:2,question:"I'm sorry, that's my final offer unless you have something else to trade.",options:[{required:12,id:3,text:"Take out the amulet"},{exclude:12,id:4,text:"Offer to trade something from your napsack"}]},{id:3,setting:"As you take the amulet from your bag the room seems to get brighter. It seems the sun has come out from behind a cloud. The little man's face is bathed in light. He blinks several times before speaking again.",question:"What have you got there? I feel a little funny. How much did I say I would give you for the ".concat(j.a.macguffin,"?"),options:[{id:5,text:"A SMALL AMOUNT"}]},{id:5,question:"Oh dear me, I must have been mistaken. It's worth 100 times that amount.\nWhat am I saying?\n Oh dear. Why did I tell you that?\n\nWill you accept my offer?",options:[{id:6,text:"For 100 times the amount? Yes of course! Oh thank you sir!! You have saved my village with your honesty"}]},{id:6,setting:"The dazed man waves you away as he hands you the money.",question:"Yes, my honesty, of course. I'm always very honest. I must have just mispoken before.",options:[{id:"1-merchant-FINAL-WIN",text:"Leave the shop",newScene:!0}]},{id:4,question:"Is this all you've got? No, I don't want any of that junk.\nAll I can give you is A SMALL AMOUNT.",options:[{id:"1-merchant-FINAL",text:"Ok, I guess I'll take it.",newScene:!0}]}],get:function(e){return this.questions.find((function(t){return t.id.toString()===e.toString()}))}}}]},Y={scenes:[{id:"1-mountain-pass-0",headline:"The path on the right",content:"The path you are walking begins to get more worn. The trees begin to thin out, but you don't see any houses. You can see hills ahead. You start to wonder if this is the right way. You decide it's time to rest for the night and set up camp under a large tree right beside the path.\nAfter eating dinner you start to settle down for the night, but notice a fire a bit off the path in the woods. It could be other travellers.",links:[{id:"1-travellers-1",link_text:"Go check it out"},{id:"1-travellers-2",link_text:"Ignore it. They could be bandits, or fairies or all sorts of weird stuff."}]},{id:"1-travellers-2",headline:"Day 2",content:"You wake up to a beautiful morning.",links:[{id:"1-city-0",link_text:"Continue to ".concat(j.a.destination)}]},{id:"1-travellers-1",headline:"Approach the fire",type:"dialog",dialog:{who:"Other Travellers",questions:[{id:0,setting:"Gathered around a large fire are 3 travellers. They are eating dinner and seem to be joking and having a good time.",question:"Hello there! Friend or Foe? Where are you from?",options:[{id:1,text:"Friend! I'm from SMALL VILLAGE"}]},{id:1,question:"Oh yes, I know that village. Lovely place. Where are you headed? Join us by the fire and get warm!",options:[{id:2,text:"I'm trying to get to ".concat(j.a.destination)}]},{id:2,question:"Ah! That's a tough town. It's hard to even get in.",options:[{id:3,text:"What do you mean by that?"}]},{id:3,question:"There's a password to get through the gate. Luckily we know it. We'll be happy to share it with you. It's Rutabaga.",options:[{id:"1-travellers-2",text:"Thank them for the warm fire and the helpful advice and return to your own camp to get a good night's sleep.",newScene:!0}]}],get:function(e){return this.questions.find((function(t){return t.id.toString()===e.toString()}))}}}]},q={scenes:[{id:"1-travellers-0",headline:"The path on the right",content:"The path you are walking begins to get more worn. The trees begin to thin out, but you don't see any houses. You can see hills ahead. You start to wonder if this is the right way. You decide it's time to rest for the night and set up camp under a large tree right beside the path.\nAfter eating dinner you start to settle down for the night, but notice a fire a bit off the path in the woods. It could be other travellers.",links:[{id:"1-travellers-1",link_text:"Go check it out"},{id:"1-travellers-2",link_text:"Ignore it. They could be bandits, or fairies or all sorts of weird stuff."}]},{id:"1-travellers-2",headline:"Day 2",content:"You wake up to a beautiful morning.",links:[{id:"1-city-0",link_text:"Continue to ".concat(j.a.destination)}]},{id:"1-travellers-1",headline:"Approach the fire",type:"dialog",dialog:{who:"Other Travellers",questions:[{id:0,setting:"Gathered around a large fire are 3 travellers. They are eating dinner and seem to be joking and having a good time.",question:"Hello there! Friend or Foe? Where are you from?",options:[{id:1,text:"Friend! I'm from SMALL VILLAGE"}]},{id:1,question:"Oh yes, I know that village. Lovely place. Where are you headed? Join us by the fire and get warm!",options:[{id:2,text:"I'm trying to get to ".concat(j.a.destination)}]},{id:2,question:"Ah! That's a tough town. It's hard to even get in.",options:[{id:3,text:"What do you mean by that?"}]},{id:3,question:"There's a password to get through the gate. Luckily we know it. We'll be happy to share it with you. It's Rutabaga.",options:[{id:"1-travellers-2",text:"Thank them for the warm fire and the helpful advice and return to your own camp to get a good night's sleep.",newScene:!0}]}],get:function(e){return this.questions.find((function(t){return t.id.toString()===e.toString()}))}}}]},N={scenes:[{content:"You've been walking all morning along the path that leads away from your village. You have a few small items and a bundle of food to last 4 days. You also have the ".concat(j.a.macguffin," to trade."),headline:"Begin",id:0,links:[{id:1,link_text:"Look around"}]},{content:"Ahead you see a fork in the road, but the sign has fallen. It's impossible to tell which way leads to your destination.\nNear the path on the left you see a small hut. It looks run-down and deserted. If someone lives there they may know which direction to take. But what kind of person would live in such a spooky little shack?",headline:"Choose a Direction",id:1,links:[{id:"1-hut-0",link_text:"Go to the Hut and ask directions"},{id:"1-travellers-0",link_text:"Take the path on the right"},{id:"1-left-0",link_text:"Take the path on the left"},{id:2,link_text:"Flip a coin to choose a path"}]},{content:"You flip a coin and it lands on heads. You...",headline:"Flip a coin",id:2,links:[{id:"1-travellers-0",link_text:"Take the path on the right"},{id:"1-left-0",link_text:"Take the path on the left"}],type:"random"}].concat(a(v.scenes),a(O.scenes),a(S.scenes),a(I.scenes),a(_.scenes),a(T.scenes),a(Y.scenes),a(q.scenes)),all:function(){return this.scenes},get:function(e){return this.scenes.find((function(t){return t.id.toString()===e.toString()}))}},A={items:[{id:0,item_name:"Travel Bag",notes:"Medium travel bag with pockets. Will hold various items",qty:1,rarity:2,init:!0},{id:1,item_name:"Bread",notes:"A loaf of bread",qty:1,rarity:1,init:!0},{id:2,item_name:"Cheese",notes:"Small block of cheddar. Enough to last 3-4 days.",qty:1,rarity:1,init:!0},{id:3,item_name:"Sausage",notes:"Spicy sausage",qty:2,rarity:2,init:!0},{id:4,item_name:"Lucky Coin",notes:"Its worth is more than its value.",qty:1,rarity:3,init:!0},{id:5,item_name:"Pocket Knife",notes:"Pocket knife with one blade. Fairly sharp. Be careful with it!",qty:1,rarity:3,init:!0},{id:6,item_name:j.a.macguffin,notes:"Item of great value given to you by your village elders to trade.",qty:1,rarity:10,init:!0},{id:7,item_name:"Water in Flask",notes:"Leather corked bottle with strap to hold enough water for a day or 2.",qty:1,rarity:3,init:!0},{id:8,item_name:"Blanket",notes:"Warm blanket for camping under the stars",qty:1,rarity:3,init:!0},{id:9,item_name:"Walking Stick",notes:"Solid wood stick, made from the limb of a tree from your home village. About 4 feet in length.",qty:1,rarity:2,init:!0},{id:10,item_name:"Matches",notes:"Round metal tube with cap to hold matches.",qty:1,rarity:3,init:!0},{id:11,item_name:"Crucifix",notes:"Wooden crucifix with silver metal figure and chain",qty:1,rarity:5},{id:12,item_name:"Amulet",notes:"Multi-color amulet of unknown origin and powers. Hangs from a thin gold chain.",qty:1,rarity:9},{id:13,item_name:"Garlic",notes:"Garlic is a strong-smelling, pungent-tasting herb. It eases the symptoms of common cold, lowers blood pressure, and can be used to ward off certain villains.",qty:1,rarity:3},{id:15,item_name:"Handkerchief",notes:"Handkerchief given to you by your grandmother before you left on the trip.",qty:1,init:!0,rarity:2}],all:function(){return this.items},get:function(e){return this.items.find((function(t){return t.id.toString()===e.toString()}))},init:function(){return this.items.filter((function(e){return e.init}))}};t.default=function(){var e=Object(s.useState)(0),t=e[0],n=e[1],o=Object(s.useState)(0),r=o[0],c=o[1],d=Object(s.useState)(null),h=d[0],u=d[1],m=Object(s.useState)(!1),f=m[0],x=m[1],p=N.get(r),g=A.get(t);Object(s.useEffect)((function(){h||u(A.init())}),[h,u]);return Object(i.jsxs)(l.a,{title:"Story",children:[Object(i.jsx)(k,{activeItem:t,acquireItem:function(e){var t=A.get(e);0===h.filter((function(t){return t.id===e})).length&&(u([].concat(a(h),[t])),n(e))},currentScene:p,items:h,setScene:c,useItem:function(e,t){if(e===t)console.log(e,t);else{var i=A.get(t),o=h.filter((function(t){return t.id!==e}));u([].concat(a(o),[i])),n(t)}}}),Object(i.jsx)(y,{activeItem:t,items:h,theme:"drawer",useItem:function(e){n(e),x(!0)}}),Object(i.jsx)(w,{item:g,open:f,closeModal:function(){x(!1)}})]})}},Qetd:function(e,t,n){"use strict";var i=Object.assign.bind(Object);e.exports=i,e.exports.default=e.exports},SksO:function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},WkPL:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}},ZhPi:function(e,t,n){var i=n("WkPL");e.exports=function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}},cDf5:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}},[["8dqH",0,1,3]]]);